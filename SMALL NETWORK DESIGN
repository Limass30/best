

# **Comprehensive Home Office Network Implementation Guide**

## **Project Overview**

This document provides a complete, step-by-step guide to building a secure and efficient Home Office Management System in Cisco Packet Tracer. The design follows a layered security model, starting from the internet edge and moving logically through each network component to the end devices. The implementation covers:

*   Simulated ISP Connection
*   Firewall Security and NAT
*   Core Routing and Inter-VLAN Communication
*   Local Switching and VLAN Segmentation
*   Secure Wireless Access
*   End-Device Configuration

---

## **Network Topology**

The network is designed in a logical flow, ensuring each device has a specific role in managing and securing traffic.

![alt text](<_- visual selection.png>)
```

---

## **Step 1: The Internet Edge (Cloud & ISP Router Simulation)**

To create a realistic environment, we first configure a router to act as the Internet Service Provider (ISP). This router provides the "public" IP address for our firewall.

**1. Device Placement:**
   * Add a **Router** (e.g., 4331) to the workspace.
   * Rename it to `ISP-Router`.
   * Connect the `ISP-Router` to the `Internet Cloud` with a Copper Straight-Through cable.

**2. CLI Configuration for `ISP-Router`:**
   * Click the `ISP-Router`, go to the **CLI** tab, and enter the following commands:

```bash
enable
configure terminal

! Configure the interface facing your firewall
interface GigabitEthernet0/0/0
 description --- Connection to Home Office Firewall ---
 ip address 203.0.113.2 255.255.255.252
 no shutdown

! Configure the interface facing the "Internet" (the cloud)
interface GigabitEthernet0/0/1
 description --- Connection to Internet Cloud ---
 ip address 198.51.100.1 255.255.255.0
 no shutdown

end
write memory
```


---

## **Step 2: The Security Perimeter (Firewall Configuration)**

The Cisco ASA firewall protects the internal network by controlling inbound and outbound traffic using NAT and Access Control Lists (ACLs).

**1. Device Placement & Connection:**
   * A **Firewall** (e.g., ASA 5506) and connect its `GigabitEthernet1/2` (outside) port to the `ISP-Router`.
   * Connect its `GigabitEthernet1/1` (inside) port to the `HomeOffice-Router`.

**2. CLI Configuration for `HomeOffice-Firewall`:**
   * CLI Configuration for the Firewall:

```bash
enable
configure terminal

! --- Configure the INSIDE interface ---
interface GigabitEthernet1/1
 nameif inside
 security-level 100
 ip address 192.168.0.1 255.255.255.252
 no shutdown

! --- Configure the OUTSIDE interface ---
interface GigabitEthernet1/2
 nameif outside
 security-level 0
 ip address 203.0.113.1 255.255.255.252
 no shutdown

! --- Set a default route to the ISP ---
route outside 0.0.0.0 0.0.0.0 203.0.113.2

! --- Configure NAT to allow internal devices to access the internet ---
object network obj_any_internal
 subnet 0.0.0.0 0.0.0.0
nat (inside,outside) source dynamic obj_any_internal interface

! --- Create an ACL to permit only essential traffic ---
access-list OUTSIDE_IN extended permit tcp any any eq 80
access-list OUTSIDE_IN extended permit tcp any any eq 443
access-list OUTSIDE_IN extended deny ip any any log

! --- Apply the ACL to the outside interface ---
access-group OUTSIDE_IN in interface outside

end
write memory
```

---

## **Step 3: The Core Network (Router Configuration)**

The internal router manages traffic between different VLANs (inter-VLAN routing) and provides IP addresses to devices via DHCP.

**1. Device Placement & Connection:**
   * A **Router** (2911) and name it `HomeOffice-Router`.
   * Connect `GigabitEthernet0/1` port to the firewall's inside port.
   * Connect `GigabitEthernet0/0` port to the `HomeOffice-Switch`.

**2. CLI Configuration for `HomeOffice-Router`:**

```bash
enable
configure terminal

! --- Basic Security & Management ---
hostname HomeOffice-Router
enable secret 5 $1$mERr$zXz3wzQ9p5n6n7n8n9n0n1
service password-encryption
no ip domain-lookup
ip domain-name homeoffice.local
crypto key generate rsa
username admin privilege 15 secret 5 $1$a1b2$c3d4e5f6g7h8i9j0k1l2
line vty 0 4
 login local
 transport input ssh

! --- Interface Configuration ---
interface GigabitEthernet0/1
 description --- WAN Connection to Firewall ---
 ip address 192.168.0.2 255.255.255.252
 no shutdown

! --- Inter-VLAN Routing (Router-on-a-Stick) ---
interface GigabitEthernet0/0
 description --- LAN Connection to Switch ---
 no shutdown

interface GigabitEthernet0/0.10
 description --- Gateway for Staff VLAN ---
 encapsulation dot1Q 10
 ip address 192.168.10.1 255.255.255.0

interface GigabitEthernet0/0.20
 description --- Gateway for Guest VLAN ---
 encapsulation dot1Q 20
 ip address 192.168.20.1 255.255.255.0

interface GigabitEthernet0/0.30
 description --- Gateway for Server VLAN ---
 encapsulation dot1Q 30
 ip address 192.168.30.1 255.255.255.0

! --- DHCP Service ---
ip dhcp excluded-address 192.168.10.1 192.168.10.9
ip dhcp excluded-address 192.168.20.1
ip dhcp excluded-address 192.168.30.1 192.168.30.9

ip dhcp pool STAFF_POOL
 network 192.168.10.0 255.255.255.0
 default-router 192.168.10.1
 dns-server 8.8.8.8

ip dhcp pool GUEST_POOL
 network 192.168.20.0 255.255.255.0
 default-router 192.168.20.1
 dns-server 8.8.8.8

ip dhcp pool SERVER_POOL
 network 192.168.30.0 255.255.255.0
 default-router 192.168.30.1
 dns-server 8.8.8.8

! --- Default Route to Firewall ---
ip route 0.0.0.0 0.0.0.0 192.168.0.1

end
write memory
```

---

## **Step 4: Local Distribution (Switch Configuration)**

The switch creates the VLANs, assigns devices to them, and provides port-level security.

**1. Device Placement & Connection:**
   * A **Switch** (2960) and name it `HomeOffice-Switch`.
   * Connect PCs, Laptop, and Server to its ports.
   * Place an **Access-Point** and connect it to a designated port.
   * Connect the switch to the `HomeOffice-Router`'s LAN port.

**2. CLI Configuration for `HomeOffice-Switch`:**

```bash
enable
configure terminal

! --- Basic Security & Management ---
hostname HomeOffice-Switch
enable secret 5 $1$mERr$zXz3wzQ9p5n6n7n8n9n0n1
service password-encryption
ip domain-name homeoffice.local
crypto key generate rsa
username admin privilege 15 secret 5 $1$a1b2$c3d4e5f6g7h8i9j0k1l2
line vty 0 15
 login local
 transport input ssh

! --- VLAN Creation ---
vlan 10
 name Staff
vlan 20
 name Guests
vlan 30
 name Servers

! --- Trunk Port to Router ---
interface GigabitEthernet0/1
 description --- Trunk to Router ---
 switchport mode trunk
 switchport trunk allowed vlan 10,20,30

! --- Access Port Assignment ---
interface FastEthernet0/1
 description --- PC1 Staff Port ---
 switchport mode access
 switchport access vlan 10
 spanning-tree portfast

interface FastEthernet0/2
 description --- PC2 Admin Port ---
 switchport mode access
 switchport access vlan 10
 spanning-tree portfast

interface FastEthernet0/3
 description --- PC3 Server Port ---
 switchport mode access
 switchport access vlan 30
 spanning-tree portfast
! Enable Port Security on Server Port
 switchport port-security
 switchport port-security maximum 2
 switchport port-security mac-address sticky
 switchport port-security violation shutdown

interface FastEthernet0/4
 description --- Laptop Staff Port ---
 switchport mode access
 switchport access vlan 10
 spanning-tree portfast

interface FastEthernet0/5
 description --- Connection to Access Point ---
 switchport mode access
 switchport access vlan 20
 spanning-tree portfast

end
write memory
```

---

## **Step 5: Wireless Access (Access Point Configuration)**

The Access Point provides secure wireless connectivity for guest devices.

**1. GUI Configuration:**
   * Click on the **Access-Point** device and go to the **GUI** tab.
   * Log in with `cisco` / `cisco`.
   * **Network -> Network Settings:** Set IPv4 Configuration to **DHCP** and click **Save**.
   * **Wireless -> Wireless Networks:**
     * Network Name (SSID): `HomeOfficeNetwork`
     * Security Mode: `WPA2-Personal`
     * Passphrase: `StrongPassword123`
     * Click **Add**.
   * Click the **Save** icon in the top right.

---

## **Step 6: End-Device Configuration**

The final step is to configure the PCs and connect the mobile devices.

**1. Static IP for Server (PC3):**
   * Click PC3 > **Desktop** > **IP Configuration**.
   * Set:
     * IP Address: `192.168.30.12`
     * Subnet Mask: `255.255.255.0`
     * Default Gateway: `192.168.30.1`
     * DNS Server: `8.8.8.8`

**2. DHCP for Workstations (PC1, PC2, Laptop):**
   * Click each device > **Desktop** > **IP Configuration**.
   * Select the **DHCP** radio button. They will automatically receive an IP in the `192.168.10.x` range.

**3. Wireless for Smartphones:**
   * Click Smartphone > **Desktop** > **Wireless**.
   * Click **Connect** next to `HomeOfficeNetwork`.
   * Enter the Passphrase: `StrongPassword123`.
   * The phone will receive an IP in the `192.168.20.x` range.

---

## **Verification & Testing Checklist**

1.  **Gateway Connectivity:** From PC1 (`192.168.10.x`), ping its gateway `192.168.10.1`. Success confirms connection to the router.
2.  **Inter-VLAN Routing:** From PC1, ping the file server at `192.168.30.12`. Success confirms the router is routing between VLANs.
3.  **Internet Access:** From PC1, ping the ISP router at `203.0.113.2`. Success confirms the default route and firewall NAT are working.
4.  **Wireless Access:** From a Smartphone, ping its gateway `192.168.20.1`. Success confirms wireless connectivity to the correct VLAN.
5.  **Security Test:** From the `ISP-Router` CLI, attempt to ping an internal device like `192.168.10.1`. The ping should fail, and logs should appear on the firewall, confirming the ACL is blocking unsolicited inbound traffic.

---

## **Conclusion**

This guide has successfully detailed the end-to-end construction of a secure, segmented, and fully functional home office network. By following these steps, a robust network has been implemented that protects internal resources while enabling efficient communication and internet access for all authorized devices. The network is now ready for testing, validation, and potential deployment.